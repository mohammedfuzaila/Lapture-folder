<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business Laptop Collection</title>
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css"
        integrity="sha512-Evv84Mr4kqVGRNSgIGL/F/aIDqQb7xQ2vcrdIwxfjThSH8CSR7PBEakCr51Ck+w+/U6swU2Im1vVX0SVk9ABhg=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@400;700&display=swap" rel="stylesheet">
</head>

<body>
    <header>
        <nav class="navbar">
            <div class="logo">Lapture</div>

            <input type="checkbox" id="menu-toggle" />
            <label for="menu-toggle" class="menu-icon">â˜°</label>

            <ul class="nav-links">
                <li><a href="index.html">Home</a></li>

                <li>
                    <a href="products.html">Products <span style="font-size: 0.8em;">â–¼</span></a>
                    <ul class="dropdown">
                        <li><a href="premium .html">Premium Laptops</a></li>
                        <li><a href="gaming.html">Gaming Laptops</a></li>
                        <li><a href="bussiness.html">Business Laptops</a></li>

                    </ul>
                </li>

                <li><a href="about.html">About</a></li>
                <li><a href="contact.html">Contact</a></li>
                </div>
            </ul>
            <div class="cart-icon" id="cartIcon">
                ðŸ›’
                <span class="cart-count" id="cartCount">0</span>
        </nav>
    </header>





    <div class="overlay" id="overlay"></div>

    <section class="premium-laptops">
        <div class="container">
            <div class="header">
                <div class="section-title">
                    <h2>Business Laptop Collection</h2>
                    <p><strong>Smart. Secure. Reliable.</strong></p>
                    <p> The Lapture Business Laptop is crafted for professionals who need performance, portability, and
                        security on the go. With long battery life, lightweight design, powerful processors, and
                        enterprise-grade security features, it's your perfect partner for <br>
                        productivityâ€”whether at the office, home, or in transit.

                    </p>
                </div>

            </div>

            <div class="laptops-grid">

            </div>
        </div>
    </section>

    <!-- Cart Sidebar -->
    <div class="cart-sidebar" id="cartSidebar">
        <div class="cart-header">
            <h3 class="cart-title">Your Cart</h3>
            <button class="close-cart" id="closeCart"><i class="fa-solid fa-xmark"></i></button>
        </div>
        <div class="cart-items" id="cartItemsContainer">
            <!-- Cart items will be dynamically inserted here -->
            <div class="empty-cart">Your cart is empty</div>
        </div>
        <div class="cart-summary" id="cartSummary" style="display: none;">
            <div class="subtotal">
                <span>Subtotal:</span>
                <span id="subtotal">$0.00</span>
            </div>
            <div class="total">
                <span>Total:</span>
                <span id="total">$0.00</span>
            </div>
            <button class="checkout-btn">Proceed to Checkout</button>
        </div>
    </div>

    <div class="notification" id="notification">
        Item added to cart!
    </div>
    <footer class="footer">
        <div class="footer-container">
            <div class="footer-logo">
                <h2>Lapture</h2>
                <p><strong>Innovatings, Performance, Possibilities.</strong></p>
                <p> Lapture Laptops are designed for modern users who demand power, style, and reliability. Whether
                    you're a gamer, a creator, a student, or a business professional.</p>
            </div>
            <div class="footer-links">
                <h4>Explore</h4>
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                </ul>

            </div>
            <div class="footer-links">
                <h4>Products</h4>
                <ul>
                    <li><a href="premium .html">Premium Laptops</a></li>
                    <li><a href="gaming.html">Gaming Laptops</a></li>
                    <li><a href="bussiness.html">Bussiness Laptops</a></li>
                </ul>

            </div>
            <div class="footer-newsletter">
                <h4>Subscribe</h4>
                <form id="newsletterForm">
                    <input type="email" id="newsletterEmail" placeholder="Your email" required>
                    <button type="submit">Join</button>
                </form>
                <p id="newsletterMessage" style="margin-top: 0.5rem;"></p>
            </div>
        </div>
        <div class="footer-socials">
            <a href="https://facebook.com" target="_blank"><i class="fab fa-facebook-f"></i></a>
            <a href="https://twitter.com" target="_blank"><i class="fab fa-twitter"></i></a>
            <a href="https://instagram.com" target="_blank"><i class="fab fa-instagram"></i></a>
            <a href="https://linkedin.com" target="_blank"><i class="fab fa-linkedin-in"></i></a>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2025 Lapture Laptops. All rights reserved. <br><strong>fuzailscript.in</strong></p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', function () {
            // Fetch the JSON data
            fetch('bussiness.json')
                .then(response => {
                    if (!response.ok) {
                        throw new Error('Network response was not ok');
                    }
                    return response.json();
                })
                .then(data => {
                    const laptopsGrid = document.querySelector('.laptops-grid');

                    // Clear any existing content
                    laptopsGrid.innerHTML = '';

                    // Loop through each laptop and create its card
                    data.business_laptops.forEach(laptop => {
                        const laptopCard = document.createElement('div');
                        laptopCard.className = 'laptop-card';

                        // Add badge if exists
                        if (laptop.badge) {
                            const badge = document.createElement('div');
                            badge.className = 'badge';
                            badge.textContent = laptop.badge;
                            laptopCard.appendChild(badge);
                        }

                        // Create image div
                        const laptopImage = document.createElement('div');
                        laptopImage.className = 'laptop-image';
                        const img = document.createElement('img');
                        img.src = laptop.image;
                        img.alt = laptop.name;
                        laptopImage.appendChild(img);
                        laptopCard.appendChild(laptopImage);

                        // Create info div
                        const laptopInfo = document.createElement('div');
                        laptopInfo.className = 'laptop-info';

                        // Brand
                        const brand = document.createElement('div');
                        brand.className = 'laptop-brand';
                        brand.textContent = laptop.brand;
                        laptopInfo.appendChild(brand);

                        // Name
                        const name = document.createElement('h3');
                        name.className = 'laptop-name';
                        name.textContent = laptop.name;
                        laptopInfo.appendChild(name);

                        // Specs
                        const specs = document.createElement('div');
                        specs.className = 'laptop-specs';
                        laptop.specs.forEach(spec => {
                            const specSpan = document.createElement('span');
                            specSpan.textContent = spec;
                            specs.appendChild(specSpan);
                        });
                        laptopInfo.appendChild(specs);

                        // Price
                        const price = document.createElement('div');
                        price.className = 'laptop-price';
                        price.textContent = laptop.price;
                        laptopInfo.appendChild(price);

                        // Actions (Add to Cart button)
                        const actions = document.createElement('div');
                        actions.className = 'laptop-actions';
                        const addToCartBtn = document.createElement('button');
                        addToCartBtn.className = 'btn btn-cart add-to-cart';
                        addToCartBtn.setAttribute('data-id', laptop.id);
                        addToCartBtn.setAttribute('data-name', laptop.name);
                        addToCartBtn.setAttribute('data-price', laptop.price_value);
                        addToCartBtn.setAttribute('data-image', laptop.image);
                        addToCartBtn.textContent = 'Add to Cart';
                        actions.appendChild(addToCartBtn);
                        laptopInfo.appendChild(actions);

                        // Add info to card
                        laptopCard.appendChild(laptopInfo);

                        // Add card to grid
                        laptopsGrid.appendChild(laptopCard);
                    });

                    // Initialize cart functionality after cards are loaded
                    initializeCart();
                })
                .catch(error => {
                    console.error('Error loading laptop data:', error);
                    const laptopsGrid = document.querySelector('.laptops-grid');
                    laptopsGrid.innerHTML = '<p class="error-message">Failed to load laptop data. Please try again later.</p>';
                });

            // Cart functionality with complete checkout flow
            function initializeCart() {
                const cartIcon = document.getElementById('cartIcon');
                const cartSidebar = document.getElementById('cartSidebar');
                const closeCart = document.getElementById('closeCart');
                const overlay = document.getElementById('overlay');
                const cartItemsContainer = document.getElementById('cartItemsContainer');
                const cartSummary = document.getElementById('cartSummary');
                const subtotalElement = document.getElementById('subtotal');
                const totalElement = document.getElementById('total');
                const cartCount = document.getElementById('cartCount');
                const notification = document.getElementById('notification');

                let cart = JSON.parse(localStorage.getItem('cart')) || [];

                // Create payment method modal
                const paymentModal = document.createElement('div');
                paymentModal.className = 'modal';
                paymentModal.id = 'paymentModal';
                paymentModal.innerHTML = `
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2>Payment Method</h2>
                <div class="payment-options">
                    <div class="payment-method">
                        <input type="radio" id="creditCard" name="payment" value="creditCard" checked>
                        <label for="creditCard">Credit Card</label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="debitCard" name="payment" value="debitCard">
                        <label for="debitCard">Debit Card</label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="cod" name="payment" value="cod">
                        <label for="cod">Cash On Delivery</label>
                    </div>
                    <div class="payment-method">
                        <input type="radio" id="upi" name="payment" value="upi">
                        <label for="upi">UPI</label>
                    </div>
                </div>
                <div id="paymentDetails">
                    <div class="form-group">
                       
                        <input type="text" id="cardNumber" placeholder="Card number">
                    </div>
                    <div class="form-group">
                       
                        <input type="text" id="cardName" placeholder="Name on Card">
                    </div>
                    <div class="form-group-row">
                        <div class="form-group">
                           
                            <input type="text" id="expiryDate" placeholder="Expiry date: MM/YY">
                        </div>
                        <div class="form-group">
                           
                            <input type="text" id="cvv" placeholder="CVV">
                        </div>
                    </div>
                </div>
                <button id="placeOrderBtn" class="checkout-btn">Place Order</button>
            </div>
        `;
                document.body.appendChild(paymentModal);

                // Create order confirmation modal
                const orderConfirmationModal = document.createElement('div');
                orderConfirmationModal.className = 'modal';
                orderConfirmationModal.id = 'orderConfirmationModal';
                orderConfirmationModal.innerHTML = `
            <div class="modal-content confirmation">
                <i class="fa-solid fa-circle-check"></i>
                <h2>Order Placed Successfully!</h2>
                <p>Your order has been placed and will be processed shortly.</p>
                <p>Order ID: <span id="orderId"></span></p>
                <button id="continueShoppingBtn" class="checkout-btn">Continue Shopping</button>
            </div>
        `;
                document.body.appendChild(orderConfirmationModal);

                // Modal elements
                const modal = document.getElementById('paymentModal');
                const closeModalBtn = paymentModal.querySelector('.close-modal');
                const orderModal = document.getElementById('orderConfirmationModal');
                const placeOrderBtn = document.getElementById('placeOrderBtn');
                const continueShoppingBtn = document.getElementById('continueShoppingBtn');

                // Toggle cart sidebar
                cartIcon.addEventListener('click', () => {
                    cartSidebar.classList.add('active');
                    overlay.style.display = 'block';
                });

                closeCart.addEventListener('click', () => {
                    cartSidebar.classList.remove('active');
                    overlay.style.display = 'none';
                });

                overlay.addEventListener('click', () => {
                    cartSidebar.classList.remove('active');
                    overlay.style.display = 'none';
                    modal.style.display = 'none';
                    orderModal.style.display = 'none';
                });

                // Update cart display
                function updateCartDisplay() {
                    cartItemsContainer.innerHTML = '';

                    if (cart.length === 0) {
                        cartItemsContainer.innerHTML = '<div class="empty-cart">Your cart is empty</div>';
                        cartSummary.style.display = 'none';
                        cartCount.textContent = '0';
                        return;
                    }

                    let subtotal = 0;

                    cart.forEach(item => {
                        subtotal += item.price * item.quantity;

                        const cartItem = document.createElement('div');
                        cartItem.className = 'cart-item';
                        cartItem.innerHTML = `
                    <div class="cart-item-image">
                        <img src="${item.image}" alt="${item.name}">
                    </div>
                    <div class="cart-item-details">
                        <h4>${item.name}</h4>
                        <div class="cart-item-price">${formatPrice(item.price)}</div>
                        <div class="cart-item-quantity">
                            <button class="quantity-btn minus" data-id="${item.id}">-</button>
                            <span>${item.quantity}</span>
                            <button class="quantity-btn plus" data-id="${item.id}">+</button>
                        </div>
                    </div>
                    <button class="remove-item" data-id="${item.id}">
                        <i class="fa-solid fa-trash"></i>
                    </button>
                `;

                        cartItemsContainer.appendChild(cartItem);
                    });

                    // Update totals
                    subtotalElement.textContent = formatPrice(subtotal);
                    totalElement.textContent = formatPrice(subtotal);

                    // Update cart count
                    const totalItems = cart.reduce((total, item) => total + item.quantity, 0);
                    cartCount.textContent = totalItems;

                    // Show summary
                    cartSummary.style.display = 'block';

                    // Add event listeners to quantity buttons
                    document.querySelectorAll('.quantity-btn').forEach(btn => {
                        btn.addEventListener('click', handleQuantityChange);
                    });

                    // Add event listeners to remove buttons
                    document.querySelectorAll('.remove-item').forEach(btn => {
                        btn.addEventListener('click', removeItemFromCart);
                    });
                }

                // Format price with currency symbol
                function formatPrice(price) {
                    return 'â‚¹' + price.toLocaleString('en-IN') + '/-';
                }

                // Handle quantity changes
                function handleQuantityChange(e) {
                    const id = parseInt(e.target.getAttribute('data-id'));
                    const isPlus = e.target.classList.contains('plus');

                    const itemIndex = cart.findIndex(item => item.id === id);

                    if (itemIndex !== -1) {
                        if (isPlus) {
                            cart[itemIndex].quantity += 1;
                        } else {
                            if (cart[itemIndex].quantity > 1) {
                                cart[itemIndex].quantity -= 1;
                            } else {
                                cart.splice(itemIndex, 1);
                            }
                        }

                        saveCart();
                        updateCartDisplay();
                    }
                }

                // Remove item from cart
                function removeItemFromCart(e) {
                    const id = parseInt(e.target.closest('button').getAttribute('data-id'));
                    cart = cart.filter(item => item.id !== id);
                    saveCart();
                    updateCartDisplay();
                }

                // Save cart to localStorage
                function saveCart() {
                    localStorage.setItem('cart', JSON.stringify(cart));
                }

                // Show notification
                function showNotification() {
                    notification.classList.add('show');
                    setTimeout(() => {
                        notification.classList.remove('show');
                    }, 2000);
                }

                // Add to cart functionality
                document.querySelectorAll('.add-to-cart').forEach(button => {
                    button.addEventListener('click', function () {
                        const id = parseInt(this.getAttribute('data-id'));
                        const name = this.getAttribute('data-name');
                        const price = parseFloat(this.getAttribute('data-price'));
                        const image = this.getAttribute('data-image');

                        // Check if item already in cart
                        const existingItem = cart.find(item => item.id === id);

                        if (existingItem) {
                            existingItem.quantity += 1;
                        } else {
                            cart.push({
                                id,
                                name,
                                price,
                                image,
                                quantity: 1
                            });
                        }

                        saveCart();
                        updateCartDisplay();
                        showNotification();
                    });
                });

                // Show payment modal when checkout is clicked
                document.querySelector('.checkout-btn')?.addEventListener('click', function () {
                    if (cart.length === 0) return;

                    cartSidebar.classList.remove('active');
                    overlay.style.display = 'none';
                    modal.style.display = 'block';
                    overlay.style.display = 'block';
                });

                // Close payment modal
                closeModalBtn.addEventListener('click', function () {
                    modal.style.display = 'none';
                    overlay.style.display = 'none';
                });

                // Place order button
                placeOrderBtn.addEventListener('click', function () {
                    // Here you would typically send the order to your backend
                    // For this example, we'll just show the confirmation

                    // Generate random order ID
                    const orderId = 'ORD-' + Math.floor(Math.random() * 1000000);
                    document.getElementById('orderId').textContent = orderId;

                    // Hide payment modal and show confirmation
                    modal.style.display = 'none';
                    orderModal.style.display = 'block';

                    // Clear the cart
                    cart = [];
                    saveCart();
                    updateCartDisplay();
                });

                // Continue shopping button
                continueShoppingBtn.addEventListener('click', function () {
                    orderModal.style.display = 'none';
                    overlay.style.display = 'none';
                });

                // Update payment details based on selected method
                document.querySelectorAll('input[name="payment"]').forEach(radio => {
                    radio.addEventListener('change', function () {
                        const paymentDetails = document.getElementById('paymentDetails');
                        if (this.value === 'upi') {
                            paymentDetails.innerHTML = `
                        <div class="form-group">
    
                            <input type="text" id="upiId" placeholder="UPI ID">
                        </div>
                    `;
                        } else if (this.value === 'cod') {
                            paymentDetails.innerHTML = `
                        <div class="form-group">
                           
                            <input type="email" id="codname" placeholder="Enter Name">
                        </div>
                    `;
                        } else {
                            paymentDetails.innerHTML = `
                        <div class="form-group">
                         
                            <input type="text" id="cardNumber" placeholder="Card Number">
                        </div>
                        <div class="form-group">
                    
                            <input type="text" id="cardName" placeholder="Name On Card">
                        </div>
                        <div class="form-group-row">
                            <div class="form-group">
                               
                                <input type="text" id="expiryDate" placeholder="Expiry date:MM/YY">
                            </div>
                            <div class="form-group">
                              
                                <input type="text" id="cvv" placeholder="CVV">
                            </div>
                        </div>
                    `;
                        }
                    });
                });

                // Initialize cart display
                updateCartDisplay();
            }
        });



    </script>
</body>

</html>